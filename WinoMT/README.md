# WinoMTeus

WinoMTeus is a translated subset of [WinoMT](https://github.com/gabrielStanovsky/mt_gender) that consists of 1,000 sentences. The aim of this adaptation is to evaluate gender stereotypes that emerge when translating sentences involving professions from a genderless language like Basque into a gendered language such as Spanish. This repository also includes the glossary we used to translate the occupations from the original dataset in English in a consistent manner.

## Evaluation

We analyze gender bias by examining the distribution of job entities by gender in the translation outputs, which allows us to identify potential imbalances or tendencies in how models assign gender to professional roles.

1. **Entity extraction**: All nouns preceded by definite articles are extracted from the Spanish translation outputs generated by the models (`extract_entities.py`).
2. **Manual filtering of occupations**: Entities that do not refer to professions or occupations are manually removed. The remaining entities are collected in a single document, where each profession is listed with both its masculine and feminine forms to make counting easier later on. For gender-invariant nouns, we use the preceding article to determine the gender (e.g. *el contable* vs *la contable*).
3. **Model-level counting**: For each model, we compute the number of occurrences of each occupation in its masculine and feminine forms, without yet grouping semantically equivalent terms (`model_eval.py`)
4. **Aggregation and normalization of occupation counts**: Translated entities referring to the same occupation are grouped under a normalized form (e.g., granjero/granjera and campesino/campesina are grouped as agricultor/agricultora). For each normalized occupation, we calculate the total number of masculine and feminine occurrences across all models, the overall count and the proportion of masculine vs feminine translations (`map_and_count.py`).
5. **Top 20 highest masculine and feminine ratios**: We identify the 20 occupations with the highest masculine ratios and the 20 with the highest feminine ratios across the entire dataset (`top_gendered_occupations.py`). 
6. **Model-specific gender bias analysis**: For each model, we apply the same normalization and filtering steps independently. We then compute the 10 occupations most frequently translated using masculine forms, and the 10 most frequently translated using feminine forms. These results are saved separately per model for comparison and interpretation. (`results_gender_models.py`)

Evaluating stereotypes in more detail is left for future work. This would involve examining labor statistics in the Basque Country or carrying out a large-scale survey to understand how Basque speakers perceive the occupations.

## Citation

If you use WinoMTeus in your work, please make sure to also cite the original WinoMT paper:

```bibtex
@misc{stanovsky2019evaluatinggenderbiasmachine,
      title={Evaluating Gender Bias in Machine Translation}, 
      author={Gabriel Stanovsky and Noah A. Smith and Luke Zettlemoyer},
      year={2019},
      eprint={1906.00591},
      archivePrefix={arXiv},
      primaryClass={cs.CL},
      url={https://arxiv.org/abs/1906.00591}, 
}
